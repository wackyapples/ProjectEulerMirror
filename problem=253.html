<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">

<title>Problem 253 - Project Euler</title>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="pe_template_style.css">

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
         inlineMath: [ ["$","$"], ["\\(","\\)"] ],
         displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
         processEscapes: true
      },
      "HTML-CSS": { availableFonts: ["TeX"] }
   });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>

<script type="text/javascript" src="md5.min.js"></script>

<script type="text/javascript">
   function check_ans(ans) {
      if (md5(ans) === "228d0a37019fd7c7051029f3d126422") {
         alert("Correct!");
      } else {
         alert("Sorry, that is incorrect!");
      };
   };
</script>
</head>

<body>
<div id="container">

   <div id="nav" class="noprint">
      <ul>
<li><a href="about.html" title="About">About</a></li>
<li id="current"><a href="problems.html" title="Problems">Problems</a></li>
<li><a href="news.html" title="News">News</a></li>
<li><a href="http://forum.projecteuler.net" title="Project Euler Forum">Forum</a></li>
      </ul>
   <div style="text-align:right;padding:30px 10px 0 0;">
      <a href="rss2_euler.xml"><img src="images/icon_rss.png" alt="RSS Feed" title="RSS Feed"></a>
   </div>
   </div>


   <div id="logo" class="noprint">
      <img src="images/pe_banner.png" alt="Project Euler .net">
   </div>

   <div id="content">
<div id="notification">This website is a semi-functional mirror of the original <a href="https://projecteuler.net/">Project Euler</a>. More information is available on <a href="https://github.com/wackyapples/ProjectEulerMirror/blob/gh-pages/README.md">GitHub</a>.</div>
<div style="text-align:center;" class="print"><img src="images/pe_banner.png" alt="projecteuler.net" style="border:none;"></div>
<h2>Tidying up</h2>
<h3>Problem 253</h3>
<div style="font-size:80%;color:#999;">Published on 28 August 2009 at 01:00 pm [Server Time]</div>
<div class="problem_content" role="problem">
<p>A small child has a “number caterpillar” consisting of forty jigsaw pieces, each with one number on it, which, when connected together in a line, reveal the numbers 1 to 40 in order.</p>

<p>Every night, the child's father has to pick up the pieces of the caterpillar that have been scattered across the play room. He picks up the pieces at random and places them in the correct order.<br> As the caterpillar is built up in this way, it forms distinct segments that gradually merge together.<br> The number of segments starts at zero (no pieces placed), generally increases up to about eleven or twelve, then tends to drop again before finishing at a single segment (all pieces placed).</p>
<p>

</p>
<p>For example:</p>
<div align="center">
<table cellspacing="0" cellpadding="2" border="1" align="center">
<tr style="background-color:#c1daf9;">
<td width="80" align="center"><b>Piece Placed</b></td>
<td width="80" align="center"><b>Segments So Far</b></td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">29</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">34</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">35</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">…</td>
<td align="center">…</td>
</tr>
</table>
</div>

<p>Let <var>M</var> be the maximum number of segments encountered during a random tidy-up of the caterpillar.<br>
For a caterpillar of ten pieces, the number of possibilities for each <var>M</var> is</p>
<div align="center">
<table cellspacing="0" cellpadding="2" border="1" align="center">
<tr style="background-color:#c1daf9;">
<td width="50" align="center"><b><var>M</var></b></td>
<td width="90" align="center"><b>Possibilities</b></td>
</tr>
<tr>
<td align="center">1</td>
<td align="right">512      </td>
</tr>
<tr>
<td align="center">2</td>
<td align="right">250912      </td>
</tr>
<tr>
<td align="center">3</td>
<td align="right">1815264      </td>
</tr>
<tr>
<td align="center">4</td>
<td align="right">1418112      </td>
</tr>
<tr>
<td align="center">5</td>
<td align="right">144000      </td>
</tr>
</table>
</div>

<p>so the most likely value of <var>M</var> is 3 and the average value is <sup>385643</sup>⁄<sub>113400</sub> = 3.400732, rounded to six decimal places.</p>

<p>The most likely value of <var>M</var> for a forty-piece caterpillar is 11; but what is the average value of <var>M</var>?</p>
<p>Give your answer rounded to six decimal places.</p>

</div>
<br>
<div style="text-align:center;" class="noprint">
   Answer: <input type="text" name="answer" id="answer" style="border:1px solid #999;width:100px;">
   <button onclick="check_ans(document.getElementById('answer').value);">Check</button>
</div>
<script type="text/javascript">document.getElementById('answer').focus();</script><div>Go to back to <a href="problems%3Bpage=6.html">Problems</a>
</div>
</div>

   <div id="footer" class="noprint">© Project Euler</div>

<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">
   <Work rdf:about="">
      <license rdf:resource="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/" />
   <dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
   </Work>
   <License rdf:about="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> -->
</div>
<div style="height:1px;">                                                                                                                                                                                                                                                                                                            </div>
</body>
</html>
